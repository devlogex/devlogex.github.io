---
import BaseLayout from '../layouts/BaseLayout.astro';
import GoalProgress from '../components/GoalProgress';
import goals from '../data/goals.json';
---

<BaseLayout title="Goals - devlogex">
  <div class="container">
    <header class="page-header">
      <h1>My Goals</h1>
      <p>Tracking progress towards my personal and professional objectives</p>
    </header>

    <div class="goals-grid">
      {goals.map((goal) => (
        <GoalProgress goal={goal} client:load />
      ))}
    </div>

    <section class="how-to-update">
      <h2>How to Update Goals</h2>
      <div class="instructions">
        <p>To update goal progress, edit <code>src/data/goals.json</code>:</p>
        <pre><code>{JSON.stringify(goals[0], null, 2)}</code></pre>
        <p>Commit and push the changes to automatically redeploy your site.</p>
      </div>
    </section>
  </div>
</BaseLayout>

<style>
  .page-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .page-header h1 {
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: var(--color-text-muted);
    font-size: 1.125rem;
  }

  .goals-grid {
    display: grid;
    gap: 1.5rem;
    margin-bottom: 3rem;
  }

  .how-to-update {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: 0.75rem;
    padding: 2rem;
    margin-top: 3rem;
  }

  .how-to-update h2 {
    margin-bottom: 1rem;
  }

  .instructions {
    color: var(--color-text-muted);
  }

  .instructions code {
    background: var(--color-bg);
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-family: 'Courier New', monospace;
  }

  .instructions pre {
    background: var(--color-bg);
    padding: 1rem;
    border-radius: 0.5rem;
    overflow-x: auto;
    margin: 1rem 0;
  }

  .instructions pre code {
    background: none;
    padding: 0;
  }
</style>
